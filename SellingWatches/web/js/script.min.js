jQuery.noConflict();
jQuery(document).ready(function(){
    "use strict";

    // Ẩn tất cả nội dung của tab trừ tab đầu tiên
    jQuery(".tab-box .tab-content").hide();
    jQuery("#tabnav ul li:first").addClass("active").show();
    jQuery(".tab-content:first").show();

    // Xử lý khi click vào tab
    jQuery("#tabnav ul li").click(function(){
        jQuery("#tabnav ul li").removeClass("active");
        jQuery(this).addClass("active");
        jQuery(".tab-content").hide();
        var e = jQuery(this).find("a").attr("href");
        jQuery(e).fadeIn();
        return false;
    });

    // Cấu hình các carousel
    jQuery("#featured").carouFredSel({
        auto: false,
        prev: "#prev_featured",
        next: "#next_featured",
        mousewheel: false,
        swipe: {onMouse: true, onTouch: true},
        responsive: true,
        width: "variable",
        height: "variable",
        scroll: 1,
        items: {width: 270, height: "variable", visible: {min: 1, max: 1}}
    });

    // Tương tự cho các carousel khác

    // Tooltip
    jQuery(".tool").tooltip();

    // Responsive behavior
    if (jQuery(window).width() > 767) {
        jQuery(".nav li.dropdown").hover(function(){
            jQuery(this).addClass("dropdown-hover");
            var e = 150 * jQuery(this).find(".dropdown-menu:first ul").size() + "px";
            jQuery(".dropdown-menu").css("width", e);
        }, function(){
            jQuery(this).removeClass("dropdown-hover");
        });

        jQuery("#home .header").css("position", "fixed");
        var e = jQuery("#home .header").height();
        jQuery("#home").css("padding-top", e + "px");
    }

    if (jQuery(window).width() < 480) {
        jQuery(".featured-products").find(".col-xs-6").removeClass("col-xs-6");
        jQuery(".hot-products").find(".col-xs-6").removeClass("col-xs-6");
    }

    // Elevate zoom initialization
    if (jQuery(window).width() > 760) {
        jQuery("#zoom_03").elevateZoom({
            gallery: "gallery_01",
            cursor: "move",
            galleryActiveClass: "active",
            imageCrossfade: true,
            loadingIcon: "images/loading.gif",
            scrollZoom: true
        });
    } else if (jQuery(window).width() < 490) {
        jQuery("#zoom_03").elevateZoom({
            gallery: "gallery_01",
            cursor: "move",
            galleryActiveClass: "active",
            imageCrossfade: true,
            loadingIcon: "images/loading.gif",
            zoomWindowWidth: 100,
            zoomWindowHeight: 200,
            scrollZoom: true
        });
    } else {
        jQuery("#zoom_03").elevateZoom({
            gallery: "gallery_01",
            cursor: "move",
            galleryActiveClass: "active",
            imageCrossfade: true,
            loadingIcon: "images/loading.gif",
            zoomWindowWidth: 250,
            zoomWindowHeight: 250,
            scrollZoom: true
        });
    }
});

jQuery(window).load(function(){
    "use strict";
    // Sequence slider initialization
    jQuery("#sequence").sequence({
        nextButton: true,
        prevButton: true,
        pagination: false,
        animateStartingFrameIn: true,
        autoPlay: true,
        autoPlayDelay: 2000,
        preloader: true,
        preloadTheseFrames: [1],
        navigationSkip: false
    }).data("sequence");

    // Flexslider initialization
    jQuery(".flexslider").flexslider({
        animation: "slide",
        directionNav: false,
        start: function(){
            jQuery("body").removeClass("loading");
        }
    });

    // Banner slider initialization
    jQuery("#bannerslide").flexslider({
        animation: "slide",
        directionNav: false,
        controlNav: false,
        start: function(){
            jQuery(".banner").removeClass("loading");
        }
    });
});
